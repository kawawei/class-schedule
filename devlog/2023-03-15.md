# 2023-03-15 開發日誌

## 今日完成
- [x] 確定系統整體架構設計
- [x] 完成資料庫設計初稿
- [x] 設計前端組件系統結構
- [x] 規劃開發階段和時間線
- [x] 建立開發日誌系統
- [x] 更新後端服務器端口配置
  - [x] 將後端服務器端口從3000更改為3004
  - [x] 更新前端API服務中的基礎URL以匹配新端口
  - [x] 更新app.js中的默認端口配置
- [x] 整合前後端登入功能
  - [x] 更新 `web/src/utils/api.js` 創建 API 服務
  - [x] 更新 `web/src/views/auth/login.js` 整合 API 登入功能
  - [x] 更新 `web/src/views/auth/Login.vue` 添加登入錯誤顯示
- [x] 整合前後端登出功能
  - [x] 更新 `web/src/views/dashboard/dashboard.js` 整合 API 登出功能
  - [x] 更新 `web/src/components/layout/AppHeader.vue` 添加登出狀態顯示
  - [x] 更新 `web/src/views/dashboard/Dashboard.vue` 傳遞登出狀態

## 進行中
- [ ] 研究LINE Messaging API和LIFF整合方案
- [ ] 評估地圖API選項（Google Maps vs. OpenStreetMap）
- [ ] 設計基礎UI組件風格指南
- [ ] 實現用戶權限管理
- [ ] 開發老師管理頁面
- [ ] 開發課程管理頁面

## 問題與解決方案
- **問題1**: 老師位置追蹤功能可能會消耗過多手機電池
  - **解決方案**: 計劃實現智能定位策略，根據課程時間調整定位頻率，非上課時間降低頻率
- **問題2**: LINE Bot與後台系統的數據同步機制需要進一步明確
  - **解決方案**: 研究使用WebSocket實現實時數據同步，確保LINE端和後台數據一致性
- **問題3**: 後端服務器端口與其他服務衝突
  - **解決方案**: 將後端服務器端口從3000更改為3004
- **問題4**: 登出時需要提供視覺反饋
  - **解決方案**: 在 AppHeader 組件中添加登出狀態和加載動畫

## 明日計劃
- 完成UI風格指南初稿
- 建立前端項目基礎結構
- 研究並確定LINE整合技術方案
- 開始設計數據模型和API接口
- 開發用戶權限管理功能
- 開始實現老師管理頁面
- 設計並實現課程管理頁面

## 備註
- 需要與設計師討論UI風格指南
- 考慮增加PWA支持，作為LINE Bot的補充方案
- 需要評估MongoDB的分片策略，為未來數據增長做準備
- API 服務已經完成基本架構，可以進一步擴展以支持更多功能
- 登入和登出功能已經與後端整合，使用 JWT 進行身份驗證
- 前端使用 localStorage 存儲 token 和用戶信息，後續可能需要考慮更安全的存儲方式
- 後端服務器現在運行在端口3004上，避免與其他服務的端口衝突 