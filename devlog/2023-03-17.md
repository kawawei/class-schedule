# 2023-03-17 開發日誌

## 今日完成
- [x] 解決中文字符編碼問題
  - [x] 修改 MySQL 配置文件，設置正確的字符集
  - [x] 更新數據庫連接配置，確保使用 UTF-8 字符集
  - [x] 移除不必要的編碼處理代碼
  - [x] 確保前後端正確處理中文字符
- [x] 更新前端 API 請求處理
  - [x] 在 `web/src/utils/api.js` 添加日誌輸出，記錄 API 響應數據
  - [x] 改進 API 響應處理流程，確保正確解析 JSON 數據
- [x] 更新設置頁面用戶數據處理
  - [x] 在 `web/src/views/setting/setting.js` 添加日誌輸出，記錄用戶數據
  - [x] 優化用戶數據獲取和顯示流程
- [x] 更新 Docker 配置
  - [x] 添加 MySQL 配置文件，設置正確的字符集和排序規則
  - [x] 更新 docker-compose.yml，添加配置文件掛載

## 進行中
- [ ] 研究LINE Messaging API和LIFF整合方案
- [ ] 評估地圖API選項（Google Maps vs. OpenStreetMap）
- [ ] 設計基礎UI組件風格指南
- [ ] 實現用戶權限管理
- [ ] 開發老師管理頁面
- [ ] 開發課程管理頁面

## 問題與解決方案
- **問題1**: 中文字符在後端日誌中顯示為亂碼
  - **解決方案**: 
    1. 添加 MySQL 配置文件 `my.cnf`，設置 `character-set-server=utf8mb4` 和 `collation-server=utf8mb4_unicode_ci`
    2. 更新數據庫連接配置，添加 `dialectOptions` 設置正確的字符集
    3. 在數據庫連接成功後執行 `SET NAMES utf8mb4` 等命令確保連接使用正確的字符集
    4. 移除用戶模型中不必要的編碼處理代碼
- **問題2**: 前端 API 請求處理中缺乏足夠的日誌輸出
  - **解決方案**: 在 `apiRequest` 函數中添加日誌輸出，記錄響應頭、響應文本和解析後的數據
- **問題3**: 設置頁面用戶數據處理缺乏可見性
  - **解決方案**: 在 `fetchUsers` 函數中添加日誌輸出，記錄用戶數據獲取和處理過程

## 明日計劃
- 開始實現老師管理頁面
- 設計並實現課程管理頁面
- 繼續研究 LINE 整合技術方案
- 評估並選擇地圖 API
- 完善用戶權限管理功能

## 備註
- 中文字符編碼問題已經解決，系統現在可以正確處理和顯示中文字符
- 數據庫配置已經更新，確保使用 UTF-8 字符集和正確的排序規則
- Docker 配置已經更新，添加了 MySQL 配置文件掛載
- 前端和後端的日誌輸出已經增強，便於調試和問題排查
- 所有代碼更改已經提交到 Git 倉庫，提交訊息包含中英文說明 