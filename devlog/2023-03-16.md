# 2023-03-16 開發日誌

## 今日完成
- [x] 修復 StatusBadge 組件中嘗試修改 prop 的問題
- [x] 修復 ActivityItem 組件中嘗試修改 props 的問題
- [x] 將儀表板的樣式與腳本分離，遵循項目規範
  - 創建 dashboard.scss 樣式文件
  - 創建 dashboard.js 腳本文件
  - 更新 Dashboard.vue 引用分離的文件
- [x] 在頂部導航欄添加登出按鈕
  - 修改 AppHeader 組件，添加登出按鈕
  - 添加臨時登出邏輯（將在認證系統完成後實現）
- [x] 創建 AppInput 組件
  - 支持文本和密碼輸入類型
  - 包含標籤、錯誤提示和密碼可見性切換功能
  - 添加到全局組件註冊
- [x] 實現登入頁面
  - 創建 Login.vue 組件
  - 分離樣式到 login.scss
  - 分離邏輯到 login.js
  - 實現表單驗證邏輯
  - 添加登入頁面路由
- [x] 更新路由配置
  - 添加 /login 路由
  - 設置頁面標題
- [x] 實現路由守衛
  - 未登入用戶重定向到登入頁面
  - 已登入用戶訪問登入頁面時重定向到儀表板
- [x] 修復數據庫連接問題
  - 解決 MySQL 連接問題
  - 配置 Sequelize 使用本地 MySQL
  - 創建並初始化數據庫
- [x] 測試 API 功能
  - 使用 curl 測試登入 API
  - 使用 curl 測試獲取用戶信息 API
  - 使用 curl 測試登出 API
- [x] 完善密碼加密和驗證機制
  - 添加重置密碼 API
  - 使用 bcrypt 加密密碼
  - 修復密碼驗證問題
- [x] 修復登出功能
  - 修改 logout 方法，確保在調用 API 之後才清除令牌
  - 添加清除 isAuthenticated 狀態
- [x] 更新數據庫名稱
  - 將數據庫名稱改為首字母大寫的 Talent_teacher_db
  - 更新 .env 文件中的數據庫名稱
- [x] 修復中文字符編碼問題和用戶名顯示亂碼
  - 修改數據庫配置，添加 dialectOptions 以確保使用正確的字符集
  - 修改 Express 應用程序，添加字符編碼中間件
  - 修改 MySQL 容器配置，設置正確的字符集
  - 修改前端登入頁面，處理可能的亂碼問題
  - 更新 Docker 相關文件，確保容器正確構建
- [x] 使用 Docker 容器化應用
  - 創建前端 Dockerfile 和 Dockerfile.prod
  - 創建後端 Dockerfile 和 Dockerfile.prod
  - 創建 docker-compose.yml 配置文件
  - 配置 MySQL 容器和初始化腳本
  - 設置網絡和卷配置

## 進行中
- [ ] 完善儀表板功能
- [ ] 開發老師管理頁面
- [ ] 開發課程管理頁面
- [ ] 實現真實的身份驗證系統
  - 目前登入功能已經與後端 API 集成
  - 密碼驗證機制已經完善

## 問題與解決方案
- **問題1**: StatusBadge 組件中嘗試在 created 生命週期鉤子中直接修改 prop 值，導致錯誤
  - **解決方案**: 使用計算屬性代替直接修改 prop，遵循 Vue 的單向數據流原則
- **問題2**: ActivityItem 組件中也有類似的問題，嘗試直接修改 props
  - **解決方案**: 同樣使用計算屬性代替直接修改 props
- **問題3**: 數據庫連接問題，無法連接到 MySQL
  - **解決方案**: 修改 Sequelize 配置，使用 socketPath 強制使用本地連接
- **問題4**: 密碼驗證問題，無法使用加密密碼登入
  - **解決方案**: 添加重置密碼 API，使用 bcrypt 加密密碼，修復密碼驗證機制
- **問題5**: 登出功能問題，點擊登出按鈕後無法正確登出
  - **解決方案**: 修改 logout 方法，確保在調用 API 之後才清除令牌，添加清除 isAuthenticated 狀態
- **問題6**: 中文字符編碼問題，導致用戶名顯示亂碼
  - **解決方案**: 修改數據庫配置和 Express 應用程序，確保使用正確的字符集；在前端添加亂碼檢測和處理邏輯
- **問題7**: 本地開發環境配置複雜，難以維護
  - **解決方案**: 使用 Docker 容器化應用，確保開發環境一致性，簡化配置和部署流程

## 明日計劃
- 開始開發老師管理頁面
- 設計老師列表和詳情頁面
- 實現老師的增刪改查功能
- 創建註冊頁面
- 實現密碼重置功能
- 添加記住我功能
- 完善登出功能

## 備註
- 登出功能已經與後端 API 集成，可以正常使用
- 儀表板頁面已經完成基本功能，後續可能需要根據實際數據進行調整
- 登入頁面使用了 AppInput 和 AppButton 組件，展示了組件復用的優勢
- 使用了懶加載技術來優化頁面加載性能
- 登入頁面設計遵循了整體應用的 Apple 風格設計原則
- 所有頁面都已考慮移動端的響應式佈局，確保在不同設備上都能正常顯示
- 後端 API 已經可以正常工作，密碼驗證機制已經完善
- 數據庫連接問題已經解決，可以正常使用本地 MySQL
- 數據庫名稱已經更新為首字母大寫的 Talent_teacher_db，符合項目規範
- 使用 Docker 容器化應用，簡化了開發環境配置和部署流程
- 修復了中文字符編碼問題，確保用戶名能夠正確顯示 